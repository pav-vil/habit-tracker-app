{% extends "base.html" %}

{% block title %}How to Build Lasting Habits - HabitFlow{% endblock %}

{% block extra_css %}
<style>
    /* Guide Page Specific Styles */
    .guide-hero {
        background: linear-gradient(135deg, #7c3aed 0%, #a78bfa 100%);
        color: white;
        padding: 60px 20px;
        border-radius: 20px;
        margin-bottom: 40px;
        text-align: center;
        box-shadow: 0 10px 40px rgba(124, 58, 237, 0.3);
    }

    .guide-hero h1 {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 15px;
    }

    .guide-hero p {
        font-size: 1.2rem;
        opacity: 0.95;
        max-width: 700px;
        margin: 0 auto;
    }

    .guide-section {
        background: var(--card-bg);
        border-radius: 20px;
        padding: 40px;
        margin-bottom: 30px;
        box-shadow: 0 4px 20px var(--shadow-color);
        transition: all 0.3s ease;
    }

    .guide-section:hover {
        box-shadow: 0 8px 30px var(--shadow-color);
        transform: translateY(-2px);
    }

    .guide-section h2 {
        color: #7c3aed;
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 15px;
    }

    .guide-section h3 {
        color: var(--text-primary);
        font-size: 1.5rem;
        font-weight: 600;
        margin-top: 30px;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .guide-section p {
        color: var(--text-secondary);
        line-height: 1.8;
        font-size: 1.05rem;
        margin-bottom: 15px;
    }

    .guide-icon {
        font-size: 2.5rem;
        filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
    }

    .strategy-card {
        background: linear-gradient(135deg, rgba(124, 58, 237, 0.05) 0%, rgba(167, 139, 250, 0.05) 100%);
        border-left: 4px solid #7c3aed;
        border-radius: 12px;
        padding: 25px;
        margin-bottom: 20px;
        transition: all 0.3s ease;
    }

    .strategy-card:hover {
        background: linear-gradient(135deg, rgba(124, 58, 237, 0.1) 0%, rgba(167, 139, 250, 0.1) 100%);
        transform: translateX(5px);
    }

    .strategy-card h4 {
        color: #7c3aed;
        font-size: 1.3rem;
        font-weight: 600;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .strategy-card p {
        margin-bottom: 10px;
    }

    .strategy-example {
        background: rgba(124, 58, 237, 0.08);
        border-radius: 8px;
        padding: 15px;
        margin-top: 15px;
        font-style: italic;
        color: var(--text-secondary);
    }

    .strategy-example strong {
        color: #7c3aed;
        font-weight: 600;
    }

    .tip-box {
        background: linear-gradient(135deg, #10b981 0%, #34d399 100%);
        color: white;
        padding: 25px;
        border-radius: 15px;
        margin: 30px 0;
        box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
    }

    .tip-box h4 {
        font-size: 1.3rem;
        font-weight: 600;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .warning-box {
        background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%);
        color: #78350f;
        padding: 25px;
        border-radius: 15px;
        margin: 30px 0;
        box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);
    }

    .warning-box h4 {
        font-size: 1.3rem;
        font-weight: 600;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 10px;
        color: #78350f;
    }

    .checklist {
        list-style: none;
        padding: 0;
    }

    .checklist li {
        padding: 12px 0;
        padding-left: 35px;
        position: relative;
        color: var(--text-secondary);
        line-height: 1.6;
    }

    .checklist li::before {
        content: '‚úì';
        position: absolute;
        left: 0;
        color: #10b981;
        font-weight: bold;
        font-size: 1.3rem;
    }

    .timeline {
        position: relative;
        padding-left: 40px;
        margin-top: 20px;
    }

    .timeline::before {
        content: '';
        position: absolute;
        left: 15px;
        top: 0;
        bottom: 0;
        width: 3px;
        background: linear-gradient(180deg, #7c3aed 0%, #a78bfa 100%);
    }

    .timeline-item {
        position: relative;
        margin-bottom: 25px;
        padding-left: 10px;
    }

    .timeline-item::before {
        content: '';
        position: absolute;
        left: -32px;
        top: 5px;
        width: 15px;
        height: 15px;
        border-radius: 50%;
        background: #7c3aed;
        border: 3px solid var(--card-bg);
        box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.2);
    }

    .timeline-item h5 {
        color: #7c3aed;
        font-weight: 600;
        margin-bottom: 8px;
    }

    .timeline-item p {
        margin: 0;
    }

    .cta-section {
        background: linear-gradient(135deg, #7c3aed 0%, #a78bfa 100%);
        color: white;
        padding: 50px 40px;
        border-radius: 20px;
        text-align: center;
        margin-top: 40px;
        box-shadow: 0 10px 40px rgba(124, 58, 237, 0.3);
    }

    .cta-section h2 {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 15px;
        color: white;
    }

    .cta-section p {
        font-size: 1.1rem;
        margin-bottom: 25px;
        opacity: 0.95;
        color: white;
    }

    .cta-button {
        background: white;
        color: #7c3aed;
        padding: 15px 40px;
        border-radius: 50px;
        font-weight: 600;
        font-size: 1.1rem;
        text-decoration: none;
        display: inline-block;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .cta-button:hover {
        background: #f3f4f6;
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        color: #6d28d9;
    }

    .resource-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
        margin-top: 20px;
    }

    .resource-card {
        background: var(--card-bg);
        border: 2px solid var(--border-color);
        border-radius: 15px;
        padding: 25px;
        transition: all 0.3s ease;
    }

    .resource-card:hover {
        border-color: #7c3aed;
        box-shadow: 0 4px 20px var(--shadow-color);
        transform: translateY(-3px);
    }

    .resource-card h4 {
        color: #7c3aed;
        font-weight: 600;
        margin-bottom: 10px;
        font-size: 1.2rem;
    }

    .resource-card p {
        margin-bottom: 15px;
        font-size: 0.95rem;
    }

    .resource-card a {
        color: #7c3aed;
        text-decoration: none;
        font-weight: 600;
        transition: all 0.2s ease;
    }

    .resource-card a:hover {
        color: #6d28d9;
        text-decoration: underline;
    }

    /* Mobile Responsive */
    @media (max-width: 768px) {
        .guide-hero {
            padding: 40px 20px;
        }

        .guide-hero h1 {
            font-size: 2rem;
        }

        .guide-hero p {
            font-size: 1rem;
        }

        .guide-section {
            padding: 25px 20px;
        }

        .guide-section h2 {
            font-size: 1.6rem;
        }

        .guide-section h3 {
            font-size: 1.3rem;
        }

        .strategy-card {
            padding: 20px;
        }

        .cta-section {
            padding: 35px 25px;
        }

        .cta-section h2 {
            font-size: 1.6rem;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="container mt-4">
    <!-- Hero Section -->
    <div class="guide-hero">
        <h1>How to Build Lasting Habits</h1>
        <p>A science-backed guide to creating habits that stick and transforming your life one day at a time</p>
    </div>

    <!-- Introduction -->
    <section class="guide-section">
        <h2><span class="guide-icon">üå±</span> The Power of Tiny Changes</h2>
        <p>
            Building lasting habits isn't about massive overnight transformations. It's about making small, consistent changes that compound over time. Research shows that habits form through repetition, not perfection. The key is to start small, stay consistent, and let the power of compound growth work in your favor.
        </p>
        <p>
            This guide combines insights from leading behavioral scientists, habit researchers, and practical strategies that have helped millions build better habits. Whether you're trying to exercise more, read daily, or develop any positive routine, these principles will help you succeed.
        </p>
    </section>

    <!-- The Science -->
    <section class="guide-section">
        <h2><span class="guide-icon">üß†</span> The Science of Habit Formation</h2>

        <h3>The Habit Loop</h3>
        <p>
            Every habit follows a three-part pattern called the habit loop:
        </p>

        <div class="timeline">
            <div class="timeline-item">
                <h5>1. Cue (Trigger)</h5>
                <p>A signal that initiates the behavior. This could be a time of day, a location, an emotion, or a preceding action.</p>
            </div>

            <div class="timeline-item">
                <h5>2. Routine (Behavior)</h5>
                <p>The actual habit or action you perform in response to the cue.</p>
            </div>

            <div class="timeline-item">
                <h5>3. Reward (Benefit)</h5>
                <p>The positive outcome that reinforces the habit and makes you want to repeat it.</p>
            </div>
        </div>

        <p>
            Understanding this loop is crucial because you can design your environment and routines to make good habits easier and bad habits harder.
        </p>

        <div class="tip-box">
            <h4>üí° Key Insight</h4>
            <p>Habits become automatic through repetition. Research by Dr. Phillippa Lally found that it takes an average of 66 days for a new behavior to become automatic‚Äîthough this can range from 18 to 254 days depending on the complexity of the habit.</p>
        </div>
    </section>

    <!-- Proven Strategies -->
    <section class="guide-section">
        <h2><span class="guide-icon">üéØ</span> 7 Proven Strategies</h2>

        <div class="strategy-card">
            <h4>1. Start Ridiculously Small</h4>
            <p>
                Don't aim for perfection‚Äîaim for consistency. Make your habit so easy that you can't say no. Want to read more? Start with one page per day. Want to meditate? Start with one minute. Want to exercise? Do one pushup.
            </p>
            <div class="strategy-example">
                <strong>Example:</strong> Instead of "Exercise for 30 minutes," start with "Put on workout clothes" or "Do 5 pushups after brushing teeth."
            </div>
        </div>

        <div class="strategy-card">
            <h4>2. Habit Stacking</h4>
            <p>
                Link your new habit to an existing one. Use the formula: "After [CURRENT HABIT], I will [NEW HABIT]." This leverages your existing neural pathways and makes the new habit easier to remember.
            </p>
            <div class="strategy-example">
                <strong>Example:</strong> "After I pour my morning coffee, I will write down three things I'm grateful for."
            </div>
        </div>

        <div class="strategy-card">
            <h4>3. Design Your Environment</h4>
            <p>
                Make good habits obvious and bad habits invisible. Your environment shapes your behavior more than willpower ever will. Reduce friction for good habits and increase friction for bad ones.
            </p>
            <div class="strategy-example">
                <strong>Example:</strong> Want to drink more water? Place a full water bottle on your desk every morning. Want to stop scrolling social media? Delete the apps from your phone or move them to a folder on the last screen.
            </div>
        </div>

        <div class="strategy-card">
            <h4>4. Use Implementation Intentions</h4>
            <p>
                Be specific about when and where you'll do your habit. Research shows that people who make specific plans are 2-3x more likely to follow through. Use the formula: "I will [BEHAVIOR] at [TIME] in [LOCATION]."
            </p>
            <div class="strategy-example">
                <strong>Example:</strong> "I will meditate for 5 minutes at 7:00 AM in my bedroom" instead of "I will meditate more."
            </div>
        </div>

        <div class="strategy-card">
            <h4>5. Track Your Progress</h4>
            <p>
                What gets measured gets managed. Use HabitFlow or a simple calendar to mark off each day you complete your habit. Visual progress is incredibly motivating and helps you maintain your streak.
            </p>
            <div class="strategy-example">
                <strong>Example:</strong> Use HabitFlow's dashboard to see your streaks grow. The visual feedback and celebration features help reinforce your commitment.
            </div>
        </div>

        <div class="strategy-card">
            <h4>6. Never Miss Twice</h4>
            <p>
                Missing once is an accident. Missing twice is the start of a new (bad) habit. If you skip a day, make it a priority to get back on track the next day. Perfection isn't the goal‚Äîconsistency is.
            </p>
            <div class="strategy-example">
                <strong>Example:</strong> If you miss your morning run, don't give up. Do a 5-minute walk in the evening instead. Showing up in some way keeps the habit alive.
            </div>
        </div>

        <div class="strategy-card">
            <h4>7. Focus on Identity, Not Outcomes</h4>
            <p>
                Don't just set goals‚Äîdecide who you want to become. Every action you take is a vote for the type of person you wish to be. Instead of "I want to run a marathon," think "I am a runner."
            </p>
            <div class="strategy-example">
                <strong>Example:</strong> "I'm the type of person who doesn't miss workouts" is more powerful than "I want to lose 10 pounds."
            </div>
        </div>
    </section>

    <!-- Common Pitfalls -->
    <section class="guide-section">
        <h2><span class="guide-icon">‚ö†Ô∏è</span> Common Pitfalls to Avoid</h2>

        <div class="warning-box">
            <h4>üö´ Starting Too Big</h4>
            <p>The most common mistake is attempting too much too soon. Enthusiasm fades, but systems last. Start with a habit so small it feels almost silly, then scale up once it's automatic.</p>
        </div>

        <div class="warning-box">
            <h4>üö´ Relying on Motivation</h4>
            <p>Motivation is fleeting. Systems and environment design are what carry you through. Build habits that work even when you don't feel like it.</p>
        </div>

        <div class="warning-box">
            <h4>üö´ Trying to Change Everything at Once</h4>
            <p>Focus on one habit at a time, or at most 2-3 related habits. Willpower is limited. Once a habit becomes automatic (60+ days), you can add another.</p>
        </div>

        <div class="warning-box">
            <h4>üö´ Not Having a Recovery Plan</h4>
            <p>You will miss days. Plan for obstacles in advance with "if-then" plans: "If I'm too tired to exercise, then I'll do just 5 minutes of stretching."</p>
        </div>
    </section>

    <!-- Action Plan -->
    <section class="guide-section">
        <h2><span class="guide-icon">üìã</span> Your 30-Day Action Plan</h2>

        <h3>Week 1: Design</h3>
        <ul class="checklist">
            <li>Choose ONE habit to focus on (resist the urge to do more)</li>
            <li>Make it ridiculously small and specific</li>
            <li>Identify the cue (when/where you'll do it)</li>
            <li>Stack it with an existing habit if possible</li>
            <li>Prepare your environment (make it obvious and easy)</li>
        </ul>

        <h3>Week 2: Start & Track</h3>
        <ul class="checklist">
            <li>Begin your habit every single day</li>
            <li>Track it in HabitFlow or on a calendar</li>
            <li>Celebrate small wins (this reinforces the reward)</li>
            <li>If you miss a day, don't miss the next one</li>
        </ul>

        <h3>Week 3: Optimize</h3>
        <ul class="checklist">
            <li>Adjust your habit if it's too hard or too easy</li>
            <li>Remove friction and obstacles you've encountered</li>
            <li>Add accountability (tell a friend or join a community)</li>
            <li>Reflect on what's working and what's not</li>
        </ul>

        <h3>Week 4: Scale & Systematize</h3>
        <ul class="checklist">
            <li>Gradually increase the difficulty if desired</li>
            <li>Notice how the habit is becoming automatic</li>
            <li>Plan for obstacles with if-then statements</li>
            <li>Consider adding a second habit (only if the first is solid)</li>
        </ul>

        <div class="tip-box">
            <h4>‚ú® Remember</h4>
            <p>The goal isn't to be perfect. The goal is to show up consistently. Even a 1% improvement each day compounds to being 37 times better in one year. Small habits, when done consistently, lead to remarkable results.</p>
        </div>
    </section>

    <!-- Resources -->
    <section class="guide-section">
        <h2><span class="guide-icon">üìö</span> Recommended Resources</h2>

        <div class="resource-grid">
            <div class="resource-card">
                <h4>üìñ Atomic Habits</h4>
                <p>By James Clear. The definitive guide to building good habits and breaking bad ones.</p>
                <a href="https://jamesclear.com/atomic-habits" target="_blank" rel="noopener">Learn More ‚Üí</a>
            </div>

            <div class="resource-card">
                <h4>üå± Tiny Habits</h4>
                <p>By BJ Fogg. Learn the science of behavior change from a Stanford professor.</p>
                <a href="https://tinyhabits.com/" target="_blank" rel="noopener">Visit Site ‚Üí</a>
            </div>

            <div class="resource-card">
                <h4>üéØ The Power of Habit</h4>
                <p>By Charles Duhigg. Understand the science behind why habits exist and how to change them.</p>
                <a href="https://charlesduhigg.com/the-power-of-habit/" target="_blank" rel="noopener">Learn More ‚Üí</a>
            </div>

            <div class="resource-card">
                <h4>üß† Habit Research</h4>
                <p>Dr. Phillippa Lally's research on how long it takes to form a habit.</p>
                <a href="https://jamesclear.com/new-habit" target="_blank" rel="noopener">Read Study ‚Üí</a>
            </div>
        </div>
    </section>

    <!-- CTA -->
    <section class="cta-section">
        <h2>Ready to Start Building?</h2>
        <p>Join thousands of people using HabitFlow to build better habits and track their progress.</p>
        {% if current_user.is_authenticated %}
            <a href="{{ url_for('habits.add_habit') }}" class="cta-button">Create Your First Habit</a>
        {% else %}
            <a href="{{ url_for('auth.register') }}" class="cta-button">Get Started Free</a>
        {% endif %}
    </section>
</div>
{% endblock %}
